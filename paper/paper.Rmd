---
#title: "Modeling children's intrinsically-motivated curiosity about object interactions"
#title: "Drop it like it's hot: Modeling children's curiosity about physical interactions"
#title: "A drop in the bucket: Modeling children's curiosity about physical interactions"
title: "What if you drop that? Modeling children's curiosity about physical interactions"
bibliography: library.bib
csl: apa6.csl
document-params: "10pt, letterpaper"

author-information: > 
    \author{{\large \bf Morton Ann Gernsbacher (MAG@Macc.Wisc.Edu)} \\ Department of Psychology, 1202 W. Johnson Street \\ Madison, WI 53706 USA
    \AND {\large \bf Sharon J.~Derry (SDJ@Macc.Wisc.Edu)} \\ Department of Educational Psychology, 1025 W. Johnson Street \\ Madison, WI 53706 USA}

abstract: >
    Although the question of what inspires a child's curiosity is difficult to determine,
    it's generally agreed that curiosity indicates awareness of a knowledge gap that the 
    learner is interested in filling. A promising approach to teasing apart 
    
keywords: >
    curiosity; novel objects; object interactions; intuitive physics
    
output: cogsci2016::cogsci_paper
#    includes:
#      in_header: preamble.tex
#final-submission: \cogscifinalcopy
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.width=3, fig.height=3, fig.crop = F, 
                      fig.pos = "tb", fig.path='figs/',
                      echo=F, warning=F, cache=F, 
                      message=F, sanitize = T)
```

```{r, libraries}
library(png)
library(grid)
library(ggplot2)
library(xtable)
require(here)
require(tidyverse)
require(tidyboot)
```

```{r, load-data}
raw = read.csv2("../analysis/human-data/curiobaby_drop-data - drop exp.csv", sep=',', header=T, stringsAsFactors=F)
hum = subset(raw, Exclude!="Y")

hum = hum[-which(hum$StimSet=="bc" & hum$DropChoice=="bowl and dumbbell"),] # chose two - exclude

s_tr <- hum %>% group_by(SID, Age_Group) %>% summarise(max=max(Trial)) %>% arrange(max)
age = table(s_tr$Age_Group)
```

# Introduction 

Curiosity is a fundamental part of our motivation, driving everyday behaviors that we spend a surprising amount of time pursuing, from browsing the internet to reading novels, watching the news, and many other forms of information seeking.
Curiosity is so strongly linked to learning that William James (1899) considered it to be "the impulse towards better cognition".
Researchers have credited curiosity for inspiring behaviors ranging from exploration and play to latent learning and neophilia.
However, there is a major outstanding difficulty in research on curiosity: there is no integrative theory of the mechanisms and basis for curiosity.
What pairings of stimuli and knowledge states inspire curiosity? 
How does curiosity motivate and drive action selection, and influence subsequent learning and behavior?

Although several theories of curiosity (surveyed briefly below) partially address these issues, a gold standard for testing these theories would require a fully-instantiated theory of curiosity in an artificial agent whose behavior can be directly compared to that of humans.
However, a further difficulty of this approach is selecting a task that adequately captures the general nature of curiosity: curiosity-driven human behavior is so wide-ranging that it is difficult to systematically compare to presently limited artificial agents.
In this paper we propose a new paradigm that allows us to directly compare children's curiosity about physical interactions with that of an aritifical agent implementing a variety of forms of curiosity.

## Theories of Curiosity

Whence intrinsically-motivated curiosity?
Novelty, opportunity for learning, etc.

## Related Behavioral Work

Intuitive physics, play

## Model subsection first?

...or joint paradigm section, and then developmental data collection, model description and comparison

# Experiment

## Method

### Participants
Participants were `r length(unique(raw$SID))` children recruited from the Children's Discovery Museum of San Jose and Bing Nursery School.
Participant exclusions were made based on cases where i) the participant did not complete more than half of the study play session or ii) the parent did not consent for video recording of study. 
After exclusions, results from `r length(unique(hum$SID))` were analyzed, including `r age[1]` 2-year-olds, `r age[2]` 3-year-olds, `r age[3]` 4-year-olds, `r age[4]` 5-year-olds, and `r age[5]` 6-year-olds. 

### Materials

```{r object-sets}
shapes = c("bowl","cone","dumbbell","octahedron","pentagon","pipe","pyramid","torus","trig prism")

a = c("pyramid", "torus", "trig prism")
b = c("cone", "octahedron", "pipe")
c = c("bowl", "dumbbell", "pentagon")
```

Stimuli included 3D-printed objects produced using Blender modeling software. 
The 9 stimuli objects were bowl, cone, dumbbell, octahedron, pentagon, pipe, pyramid, torus, and triangular prism. 
The printed objects were all yellow, rigid plastic material and designed to fit comfortably in the childâ€™s hand (dimension range: 3.8-10.1 cm). 

The set of 9 objects were divided into 3 subsets (A = {pyramid, torus, triangular prism}, B = {cone, octahedron, pipe}, and C = {bowl, dumbbell, pentagon}). 
These subsets served as sets (A, B, C) of target/drop objects in six successive blocks of 2 trials, for a total of 12 trials. 
For example, in Order 1, in the first block of 2 trials, set A served as the target objects from which the child chose to drop on the target objects (set B).

The target:drop block sequence for Order 1 was A:B, B:C, C:A, A:C, B:A, C:B. Sequence for Order 2 (reverse of Order 1) was C:B, B:A, A:C, C:A, B:C, A:B. Participants were assigned to condition in counterbalanced order.


### Procedure

After the parent provided informed consent, children were assigned to Order 1 or Order 2. Participants were assigned to condition in counterbalanced order.

We introduced children to a set of 3D-printed toy objects ("blocks"). 
The child played a game where they could pick which of three blocks to drop in a bin containing three other blocks, to see what happens. 
We then swapped target/drop blocks, based on assigned order sequence, and asked the child to do the same selection and dropping a dozen times. 
Finally, we asked the child to build a "cool" tower with any of the toy blocks for about one minute.

Based on piloting, we estimated the activity would would only require five minutes to complete. 
In both conditions, a video camera was used to record the play session from an angle above the bin, to show child's block selection and drop location as well as child's completed tower. 
After child notified the researcher that they were finished building their tower, the session was completed and camera was turned off. 

### Drop Coding Procedure

Each session's video was manually coded for object drop choice and drop location. Drop choice is defined as the child's single selection of three drop objects to drop into the bin containing three different objects. 
The bin is divided into three quadrants of equal area. 
Each target object resides in one of these three areas. 
Drop location was defined as the site of collision of drop object at the base of the bin. 
Drop locations include either i) direct collision with one of three target objects, ii) collision in an empty space surrounding select target object, or iii) outside the bin. 

If drop object collided with empty space, we recorded which target object quadrant it landed. 
We also recorded events where drop object bounced from empty space or a target object then collided with other target object(s). 
Number of collisions and with which target(s) was also coded.

Trials were excluded if child i) dropped object outside of the bin, ii) touched target object(s) prior to a drop, iii) dropped object during set change, iv) selected more than one object to drop, or iv) dropped (or threw) object from too high (>1.5 m). 
Trials were also excluded if the experimenter made a mistake (e.g., used the wrong stimulus set or repeated a trial more than twice).


## Results

```{r chance-comparison}

report_chisq <- function(X) {
  # e.g. X^2 (2, N = 88) = 2.1, p = .35
  pval = round(X$p.value, 3)
  if(pval==0) { 
    pval = ", p<.001" 
  } else {
    pval = paste0(", p=",pval)
  }
  return(paste0("($X^2$(", X$parameter, ", N=", sum(X$expected), ") = ", round(X$statistic,2), pval, ")"))
}

# see if children's choices (per subset) are random
drop_ch = table(hum$StimSet, hum$DropChoice)
# chisq.test(rbind(colSums(drop_ch[,a]), rep(sum(drop_ch[,a]/3), 3)) )

Xa_drop = chisq.test( colSums(drop_ch[,a]) ) 
Xb_drop = chisq.test( colSums(drop_ch[,b]) )
Xc_drop = chisq.test( colSums(drop_ch[,c]) )



target_ch = table(hum$StimSet, hum$DropLocation)

Xa_targ = chisq.test( colSums(target_ch[,a]) ) # n.s.
Xb_targ = chisq.test( colSums(target_ch[,b]) ) # n.s.
Xc_targ = chisq.test( colSums(target_ch[,c]) ) # n.s.

```

We first examine children's choice of drop objects and target objects to determine if children were choosing randomly, or had consistent preferences for some objects. We used a chi-square test of independence on children's choices (drop and target) from each set of objects (A, B, C).
Children's drop choices from set A significantly differed from chance `r report_chisq(Xa_drop)`.
Children's drop choices from set B also significantly differed from chance `r report_chisq(Xb_drop)`.
Children's drop choices from set C did not significantly differ from chance `r report_chisq(Xc_drop)`.
The 
Of all the drops, many
Children's target choices did not significantly differ from chance for set A `r report_chisq(Xa_targ)`, B `r report_chisq(Xb_targ)`, or C `r report_chisq(Xc_targ)`.

```{r table1, echo=FALSE, message=FALSE, warnings=FALSE, results='asis'}
get_table_string <- function(tableX, set) {
  tt = sort(colSums(tableX[,set]))
  tstr = paste(paste0(names(tt), " (", tt, "),"), collapse=' ')
  tstr = gsub('.{1}$', '', tstr)
  return(tstr)
}
dA = get_table_string(drop_ch, a)
dB = get_table_string(drop_ch, b)
dC = get_table_string(drop_ch, c)

tA = get_table_string(target_ch, a)
tB = get_table_string(target_ch, b)
tC = get_table_string(target_ch, c)

tabl <- paste0("
| Set |  Drop Object (N) | Target Object (N) |
|-----|:----------------:|-----------:|
|  A  | ", dA,"   | ", tA," |
|  B  | ", dB,"   | ", tB," |
|  C  | ", dC,"   | ", tC," |
")
#cat(tabl) 

#tab1 <- xtable::xtable(summary(out)$coef, digits=c(0, 2, 2, 1, 2), 
#                       caption = "This table prints across one column.")
#print(tab1, type="latex", comment = F, table.placement = "H")
```


```{r drop-choice, fig.env = "figure", fig.pos = "H", fig.align='center', fig.width=3.4, fig.height=2.5, set.cap.width=T, num.cols.cap=1, fig.cap = "Relative frequency of drop object choice as a function of stimulus set."}
ch_cond <- hum %>% 
  group_by(StimSet, DropChoice) %>%
  summarise(n = n()) %>%
  mutate(freq = n / sum(n)) 

ch_cond$StimSet <- factor(ch_cond$StimSet, levels = c("ba","ca","ab","cb","ac","bc"))
ggplot(ch_cond, aes(x=StimSet, y=freq, shape=DropChoice, color=DropChoice)) + # , size=n
  geom_point(alpha=.8) +
  scale_shape_manual(values=10:19) +
  #geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
  xlab("Stimulus Set") + ylab("Rate of Drop Object Choice") + ylim(0,.66) + 
  langcog::scale_fill_solarized() + ggthemes::theme_few() + 
  geom_hline(yintercept=.33, lty='dashed')
```

```{r target-hit, fig.env = "figure", fig.pos = "H", fig.align='center', fig.width=3.4, fig.height=2.5, set.cap.width=T, num.cols.cap=1, fig.cap = "Relative frequency of targeted object as a function of stimulus set."}
hum$Target = hum$DropLocation
ch_cond <- hum %>% 
  filter(Target!="outside") %>%
  group_by(StimSet, Target) %>%
  summarise(n = n()) %>%
  mutate(freq = n / sum(n)) 

ch_cond$Target <- factor(ch_cond$Target, levels = c(shapes, "space"))
ggplot(ch_cond, aes(x=StimSet, y=freq, shape=Target, color=Target)) + # , size=n
  geom_point(alpha=.8) +
  scale_shape_manual(values=10:20) +
  #geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
  xlab("Stimulus Set") + ylab("Rate of Target Object Choice") + ylim(0,.66) + 
  langcog::scale_fill_solarized() + ggthemes::theme_few() + 
  geom_hline(yintercept=.33, lty='dashed')
```

```{r target-space, fig.env = "figure", fig.pos = "H", fig.align='center', fig.width=3.4, fig.height=2.5, set.cap.width=T, num.cols.cap=1, fig.cap = "Relative frequency of targeted object as a function of stimulus set."}

hum$TargetSpace = ifelse(hum$DropLocation=="space", hum$WhichSpace, hum$DropLocation)

ch_cond <- hum %>% 
  filter(is.element(TargetSpace, shapes)) %>%
  group_by(StimSet, TargetSpace) %>%
  summarise(n = n()) %>%
  mutate(freq = n / sum(n)) 

ch_cond$TargetSpace <- factor(ch_cond$TargetSpace, levels = shapes)
ggplot(ch_cond, aes(x=StimSet, y=freq, shape=TargetSpace, color=TargetSpace)) + # , size=n
  geom_point(alpha=.8) +
  scale_shape_manual(values=10:19) +
  #geom_linerange(aes(ymin = ci_lower, ymax = ci_upper)) +
  xlab("Stimulus Set") + ylab("Rate of Target Location Choice") + ylim(0,.66) + 
  langcog::scale_fill_solarized() + ggthemes::theme_few() + 
  geom_hline(yintercept=.33, lty='dashed')
```




# Model

## Baseline Curiosity Policy

## Antagonistic Curiosity Policy

## Results


## Comparison with Children



# Discussion 



# Acknowledgements

This work was funded by HAI seed grant #. 
We thank X and Y for helpful comments.

# References 

```{r}
# References will be generated automatically by Pandoc and included here.
# The following code is some latex to format the bibliography. Do not remove it.
```

\setlength{\parindent}{-0.1in} 
\setlength{\leftskip}{0.125in}
\noindent
